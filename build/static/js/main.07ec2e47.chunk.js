(this["webpackJsonpbootcamp-m4-starter"]=this["webpackJsonpbootcamp-m4-starter"]||[]).push([[0],{24:function(e,t,a){},27:function(e,t,a){e.exports=a(47)},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),s=a.n(i),c=a(11),o=a(3),l=a(4),u=a(6),m=a(5),h=a(1),p=a(21),d=(a(32),a(33),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"MustSee"))}}]),a}(n.Component)),v=a(10),f=a.n(v),b=a(16);function y(e){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" http://www.omdbapi.com/?s=".concat(t,"&apikey=13ea4fc3 "));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://acb-api.algoritmika.org/api/movies/list/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(b.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://acb-api.algoritmika.org/api/movies/list",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({title:t,movies:a})});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" http://www.omdbapi.com/?i=".concat(t,"&apikey=13ea4fc3 "));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(35);var g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchLine:"",nameFilm:""},e.searchLineChangeHandler=function(t){e.setState({nameFilm:t.target.value})},e.searchBoxSubmitHandler=function(t){var a=e.state.nameFilm;t.preventDefault(),y(a).then((function(t){console.log(t),e.setState({searchLine:t}),e.props.changeSearchLine(t)}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.nameFilm;return r.a.createElement("div",{className:"search-box"},r.a.createElement("form",{className:"search-box__form",onSubmit:this.searchBoxSubmitHandler},r.a.createElement("label",{className:"search-box__form-label"},"\u0418\u0441\u043a\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e:",r.a.createElement("input",{value:e,type:"text",className:"search-box__form-input",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Shawshank Redemption",onChange:this.searchLineChangeHandler})),r.a.createElement("button",{type:"submit",className:"search-box__form-submit",disabled:!e},"\u0418\u0441\u043a\u0430\u0442\u044c")))}}]),a}(n.Component),N=a(15),I=(a(36),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.Title,n=t.Year,i=t.Poster,s=t.imdbID,c=t.arrayFavorites,o=t.isListCreated,l=t.deleteItem,u="N/A"===i?r.a.createElement("div",{className:"not-poster"},r.a.createElement("p",null,"Unfortunately, there is no poster for this film...")):r.a.createElement("img",{className:"movie-item__poster",src:i,alt:a}),m=void 0===c.find((function(e){return e.imdbID===s}))?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e";return r.a.createElement("article",{className:"movie-item"},u,r.a.createElement("div",{className:"movie-item__info"},r.a.createElement("h3",{className:"movie-item__title"},a,"\xa0(",n,")"),!o&&r.a.createElement("div",{className:"box-btn-add-delete"},r.a.createElement("button",{type:"button",disabled:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"===m,onClick:function(){return e.props.addItem({Title:a,Year:n,Poster:i,imdbID:s})},className:"movie-item__add-button"},m),"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"===m&&r.a.createElement("button",{onClick:function(){return l(s)},className:"movie-item__btn-delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"))))}}]),a}(n.Component));a(37);function F(e){var t=e.searchLine,a=e.addItem,i=e.arrayFavorites,s=e.isListCreated,c=e.deleteItem,o=Object(n.useState)([]),l=Object(N.a)(o,2),u=l[0],m=l[1],h=Object(n.useState)(null),p=Object(N.a)(h,2),d=p[0],v=p[1];Object(n.useEffect)((function(){""!==t&&"Movie not found!"!==t.Error&&(m(t.Search),v(null)),"Movie not found!"===t.Error&&v("Movie not found!"),"Too many results."===t.Error&&v("Too many results.")}),[t]);var f=null===d?r.a.createElement("ul",{className:"movies"},u.map((function(e){return r.a.createElement("li",{className:"movies__item",key:e.imdbID},r.a.createElement(I,Object.assign({},e,{addItem:a,arrayFavorites:i,isListCreated:s,deleteItem:c})))}))):r.a.createElement("h1",null,d);return r.a.createElement(r.a.Fragment,null,f)}a(38);var S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tittle:"",idList:""},e.createList=function(){var t=e.props.arrayFavorites.map((function(e){return e.imdbID}));O(e.state.tittle,t).then((function(t){return e.setState({idList:t.id})}),e.props.isListCreated()).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},e.changeNameList=function(t){e.setState({tittle:t.target.value})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrayFavorites,a=t===[]?r.a.createElement("p",null,"Loading..."):t.map((function(t,a){return r.a.createElement("li",{className:"point-favorites",key:t.imdbID},t.Title," (",t.Year,")",r.a.createElement("button",{disabled:e.state.idList,className:"btn-delete",onClick:function(){return e.props.deleteItem(a)}},"X"))})),n=""===this.state.idList?r.a.createElement("button",{onClick:this.createList,type:"button",className:"favorites__save",disabled:!this.state.tittle||0===t.length},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"):r.a.createElement(c.b,{to:"/list/".concat(this.state.idList)},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443.");return r.a.createElement("div",{className:"favorites"},r.a.createElement("label",null,r.a.createElement("input",{disabled:this.state.idList,onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:this.changeNameList,type:"text",value:this.state.tittle,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",className:"favorites__name"})),r.a.createElement("ul",{className:"favorites__list"},a),n)}}]),a}(n.Component),w=(a(44),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tittle:"",idList:"",btnOpenSaveList:"show",showSaveList:"hide"},e.createList=function(){var t=e.props.arrayFavorites.map((function(e){return e.imdbID}));O(e.state.tittle,t).then((function(t){return e.setState({idList:t.id})}),e.props.isListCreated()).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},e.changeNameList=function(t){e.setState({tittle:t.target.value})},e.openMenuSaveList=function(){e.setState({btnOpenSaveList:"hide",showSaveList:"show"})},e.cancel=function(){e.setState({btnOpenSaveList:"show",showSaveList:"hide"})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrayFavorites,a=t===[]?r.a.createElement("p",null,"Loading..."):t.map((function(t,a){return r.a.createElement("li",{className:"point_show",key:t.imdbID},t.Title," (",t.Year,")",r.a.createElement("button",{disabled:e.state.idList,className:"show_btn_delete",onClick:function(){return e.props.deleteItem(a)}},"X"))})),n=""===this.state.idList?r.a.createElement("div",null,r.a.createElement("button",{onClick:this.createList,type:"button",className:"show__save",disabled:!this.state.tittle||0===t.length},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")," ",r.a.createElement("button",{onClick:this.cancel,type:"button",className:"show__save"},"\u041d\u0430\u0437\u0430\u0434")):r.a.createElement(c.b,{to:"/list/".concat(this.state.idList)},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443.");return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.openMenuSaveList,className:this.state.btnOpenSaveList},r.a.createElement("p",null,"\u2630"),this.props.quantityItemFavorites),r.a.createElement("div",{className:this.state.showSaveList},r.a.createElement("label",null,r.a.createElement("input",{disabled:this.state.idList,onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:this.changeNameList,type:"text",value:this.state.tittle,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",className:"show__name"})),r.a.createElement("ul",{className:"show__list"},a),n))}}]),a}(n.Component)),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={arrayFavorites:[],searchLine:"",curVersion:"",quantityItemFavorites:0,isListCreated:!1},e.changeSearchLine=function(t){e.setState({searchLine:t})},e.addItem=function(t){var a=e.state.arrayFavorites.filter((function(e){return e.imdbID!==t.imdbID})),n=[].concat(Object(p.a)(a),[t]);e.setState({arrayFavorites:n,quantityItemFavorites:e.state.quantityItemFavorites+1})},e.deleteItem=function(t){var a=e.state.arrayFavorites;a.splice(t,1),e.setState({arrayFavorites:a,quantityItemFavorites:e.state.quantityItemFavorites-1})},e.deleteItemFromList=function(t){var a=e.state.arrayFavorites.filter((function(e){return e.imdbID!==t})),n=Object(p.a)(a);e.setState({arrayFavorites:n,quantityItemFavorites:e.state.quantityItemFavorites-1})},e.isListCreated=function(){e.setState({isListCreated:!0})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.innerWidth<769?this.setState({curVersion:"mobile"}):this.setState({curVersion:"desktop"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement(d,null),r.a.createElement("main",{className:"main-page__content"},r.a.createElement("section",{className:"main-page__main-section"},r.a.createElement("div",{className:"main-page__search-box"},r.a.createElement(g,{changeSearchLine:this.changeSearchLine})),r.a.createElement("div",{className:"main-page__movies"},r.a.createElement(F,{isListCreated:this.state.isListCreated,arrayFavorites:this.state.arrayFavorites,searchLine:this.state.searchLine,addItem:this.addItem,deleteItem:this.deleteItemFromList}))),r.a.createElement("aside",{className:"main-page__favorites"},"desktop"===this.state.curVersion&&r.a.createElement(S,{isListCreated:this.isListCreated,deleteItem:this.deleteItem,arrayFavorites:this.state.arrayFavorites}),"mobile"===this.state.curVersion&&r.a.createElement(w,{isListCreated:this.isListCreated,quantityItemFavorites:this.state.quantityItemFavorites,deleteItem:this.deleteItem,arrayFavorites:this.state.arrayFavorites}))))}}]),a}(n.Component);a(24);function C(e){var t=e.id,a=Object(n.useState)([]),i=Object(N.a)(a,2),s=i[0],c=i[1];Object(n.useEffect)((function(){(function(e){return _.apply(this,arguments)})(t).then((function(e){c(e),console.log(e)}))}),[t]);var o="N/A"===s.Poster?r.a.createElement("div",{className:"not-poster-list-movies"},r.a.createElement("p",null,"Unfortunately, there is no poster for this film...")):r.a.createElement("img",{className:"img-list-movies",src:s.Poster,alt:s.Title});return r.a.createElement("li",{className:"point-list",key:s.imdbID},o,r.a.createElement("a",{href:"https://www.imdb.com/title/".concat(s.imdbID),target:"_blank",rel:"noopener noreferrer"},s.Title," (",s.Year,")"))}var x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],tittleList:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e){return L.apply(this,arguments)})(this.props.match.params.id).then((function(t){console.log(t),e.setState({movies:t.movies}),e.setState({tittleList:t.title})}))}},{key:"render",value:function(){var e=this.state.movies.map((function(e){return r.a.createElement(C,{key:e,id:e})}));return r.a.createElement("div",{className:"list-page"},r.a.createElement("h1",{className:"list-page__title"},this.state.tittleList),r.a.createElement("ul",null,e))}}]),a}(n.Component),D=(a(45),a(46),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(h.a,{path:"/",exact:!0,component:k}),r.a.createElement(h.a,{path:"/list/:id",exact:!0,component:x}))}}]),a}(r.a.Component));s.a.render(r.a.createElement(c.a,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.07ec2e47.chunk.js.map